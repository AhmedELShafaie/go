#This is build file to override the regular docker hub build
#$PORT,$DOCERFILE_PATH,$IMAGE_NAME are all docker hub provided variables


#docker build --build-arg PORT=$PORT -f $DOCERFILE_PATH -t $IMAGE_NAME .
#!/bin/bash
ENVIROMENT=$(echo $DOCKER_TAG | cut -d "-" -f1)
if [ $DOCKER_TAG == "latest" ]
  then
    echo -e "building docker image using Port: $PORT"
    docker build --build-arg PORT=$PORT -f $DOCKERFILE_PATH -t $IMAGE_NAME .
  else
    echo -e "building docker image using Port: $PORT_STAGE"
    docker build --build-arg PORT=$PORT_STAGE -f $DOCERFILE_PATH -t $IMAGE_NAME .
fi
